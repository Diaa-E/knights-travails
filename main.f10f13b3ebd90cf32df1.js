(()=>{"use strict";var t={};function e(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,u=[],c=!0,s=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(t){s=!0,o=t}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return u}}(t,e)||r(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=r(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,a=function(){};return{s:a,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){c=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(c)throw i}}}}function r(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(){var t=new Map;return{graph:t,addNode:function(e){t.set(e,[])},addEdge:function(e,n){t.get(e).push(n)},findShortestPath:function(r,o){if(!t.has(o))throw new Error("The value you are searching for does not exist in the graph.");if(!t.has(r))throw new Error("The starting node provided does not exist in the graph.");var a=function(r){var o,a=[r],i=new Set,u=new Map,c=n(t);try{for(c.s();!(o=c.n()).done;){var s=e(o.value,2),d=s[0];s[1];u.set(d,null)}}catch(t){c.e(t)}finally{c.f()}for(;a.length>0;){var l,f=a.shift(),v=n(t.get(f));try{for(v.s();!(l=v.n()).done;){var h=l.value;i.has(h)||(a.push(h),i.add(h),u.set(h,f))}}catch(t){v.e(t)}finally{v.f()}}return u}(r);return function(t,e,n){var r=[e];for(;null!==e&&e!==t;)r.push(n.get(e)),e=n.get(e);return r.reverse()}(r,o,a)}}}function i(t){return t.split(",").map((function(t){return parseInt(t)}))}function u(t){return t.join(",")}function c(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var r=n.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})();const d={addClasses:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(0===e.length)return;e.forEach((function(e){t.classList.add(e)}))},removeClasses:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(0===e.length)return;e.forEach((function(e){t.classList.remove(e)}))}};const l=t.p+"eda92a10cbdf5dbabf3d.svg";var f=function(){var t="K",e=[Math.round(7*Math.random()),Math.round(7*Math.random())],n="V",r="‚òê",o=[],s=["A","B","C","D","E","F","G","H"],d=[1,2,3,4,5,6,7,8],l=a(),f=new CustomEvent("boardChange",{bubbles:!0,detail:{board:o,knight:t,visited:n,empty:r}});function v(){for(var r=Array(8).fill([]),a=0;a<o.length;a++)r[a]=c(o[a]);for(var u=e,s=[],d=0;d<8;d++)for(var l=0;l<8;l++){if(r[d][l]!==t&&r[d][l]!==n)h(u,[l,d]).forEach((function(t){var e=i(t);r[e[1]][e[0]]=n,s.push(t)})),u=[l,d]}for(var f=0;f<s.length;f++)s[f]===s[f-1]&&s.splice(f,1);m(s)}function h(t,e){return l.findShortestPath(u(t),u(e))}function m(r){var a;a=new CustomEvent("boardBusy",{bubbles:!0}),document.dispatchEvent(a),setTimeout((function(){var t;t=new CustomEvent("boardClear",{bubbles:!0}),document.dispatchEvent(t)}),500*(r.length-1));for(var u=function(a){r[a]=i(r[a]),setTimeout((function(){!function(r,a){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(r>7||a>7)throw new Error("Illegal move [".concat(r,", ").concat(a,"]: out of board bounds"));if(e[0]===r&&e[1]===a)return;var u=new CustomEvent("log",{bubbles:!0,detail:{start:e,end:[r,a]}});!0===i&&function(t,e){o[e][t]=n}(e[0],e[1]);o[a][r]=t,e=[r,a],document.dispatchEvent(u),document.dispatchEvent(f)}(r[a][0],r[a][1])}),500*(a-1))},c=0;c<r.length;c++)u(c)}return document.addEventListener("move",(function(t){m(h(e,t.detail.end))})),document.addEventListener("reset",(function(t){!function(){for(var t=0;t<8;t++)for(var e=0;e<8;e++)o[t][e]===n&&(o[t][e]=r)}(),document.dispatchEvent(f)})),document.addEventListener("goneCrazy",(function(){v()})),{board:o,logBoard:function(){for(var t=0;t<8;t++){for(var e=[],n=0;n<8;n++)0===n&&e.push("".concat(d[t]," |")),e.push("".concat(o[t][n]," "));console.log(e.join(" "))}console.log("  | ".concat(s.join("   ")))},goCrazy:v,startGame:function(){!function(){for(var n=0;n<8;n++){var a=Array(8).fill(r);o.push(a)}o[e[1]][e[0]]=t}(),function(){for(var t=function(t){for(var n=function(n){var r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,n=[];return[[2,1],[-2,1],[2,-1],[-2,-1],[1,2],[-1,2],[1,-2],[-1,-2]].forEach((function(e){var r=[0,0];r[0]=t[0]+e[0],r[1]=t[1]+e[1],r[0]>7||r[1]>7||r[0]<0||r[1]<0||n.push(r)})),n}([t,n]);l.addNode(u([t,n])),r.forEach((function(e){l.addEdge(u([t,n]),u(e))}))},r=0;r<8;r++)n(r)},n=0;n<8;n++)t(n)}(),document.dispatchEvent(f)}}}();(function(){var t=!1,e=[],n=document.createElement("ul");function r(t){d.removeClasses(t,["sq-knight","sq-visited"])}return document.addEventListener("log",(function(t){var e,r,o;e=t.detail.start,r=t.detail.end,(o=document.createElement("li")).innerText=function(t,e){var n=["A","B","C","D","E","F","G","H"];return"From ".concat(n[t[0]]).concat(t[1]+1," to ").concat(n[e[0]]).concat(e[1]+1)}(e,r),n.append(o)})),{initDisplay:function(){var o,a=document.querySelector("body");d.addClasses(a,["main-grid"]),a.append(((o=new Image).src=l,d.addClasses(o,["logo"]),o),function(){var e=document.createElement("div");d.addClasses(e,["controls-wrapper"]);var r=document.createElement("button");d.addClasses(r,["button-regular","button-special"]),r.innerText="GO CRAZY!",r.addEventListener("click",(function(e){if(!t){var n=new CustomEvent("goneCrazy",{bubbles:!0});e.target.dispatchEvent(n)}}));var o=document.createElement("button");d.addClasses(o,["button-regular"]),o.innerText="Clear Log",o.addEventListener("click",(function(){t||(n.innerHTML="")}));var a=document.createElement("button");return d.addClasses(a,["button-regular"]),a.innerText="Reset",a.addEventListener("click",(function(e){if(!t){var n=new CustomEvent("reset",{bubbles:!0});e.target.dispatchEvent(n)}})),e.append(r,o,a),e}(),function(){var n=document.createElement("div");d.addClasses(n,["board-wrapper"]);var r=document.createElement("div");d.addClasses(r,["checkers-wrapper"]),n.append(r);for(var o=["sq-white","sq-black"],a=!0,c=0;c<8;c++){a=!a;for(var s=[],l=function(){var e=document.createElement("div");e.setAttribute("data-XY",u([f,c])),e.addEventListener("click",(function(n){if(!t){var r=new CustomEvent("move",{bubbles:!0,detail:{end:i(n.target.getAttribute("data-XY"))}});e.dispatchEvent(r)}})),a?d.addClasses(e,[o[1]]):d.addClasses(e,[o[0]]),s.push(e),a=!a,r.append(e)},f=0;f<8;f++)l();e.push(s)}return n}(),function(){var t=document.createElement("div");d.addClasses(t,["log-wrapper"]);for(var e=1;e<10;e++){var r=document.createElement("div");d.addClasses(r,["log".concat(e),"log"]),t.append(r)}var o=document.createElement("h2");return d.addClasses(o,["log-title"]),o.innerText="Moves Log",d.addClasses(n,["log-list"]),t.append(o,n),t}()),document.addEventListener("boardChange",(function(t){!function(t,n,o,a){for(var i=0;i<8;i++)for(var u=0;u<8;u++)t[i][u]===a?r(e[i][u]):t[i][u]===n?(r(e[i][u]),d.addClasses(e[i][u],["sq-knight"])):t[i][u]===o&&(r(e[i][u]),d.addClasses(e[i][u],["sq-visited"]))}(t.detail.board,t.detail.knight,t.detail.visited,t.detail.empty)})),document.addEventListener("boardBusy",(function(){t=!0,e.forEach((function(t){t.forEach((function(t){d.addClasses(t,["busy"])}))})),document.querySelectorAll("button").forEach((function(t){d.addClasses(t,["busy"])}))})),document.addEventListener("boardClear",(function(){t=!1,e.forEach((function(t){t.forEach((function(t){d.removeClasses(t,["busy"])}))})),document.querySelectorAll("button").forEach((function(t){d.removeClasses(t,["busy"])}))}))}}})().initDisplay(),f.startGame()})();